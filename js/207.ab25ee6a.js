"use strict";(self["webpackChunkvue_template"]=self["webpackChunkvue_template"]||[]).push([[207],{8207:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var s=o(3396);const i={class:"center-center"},n=(0,s._)("h2",{class:"text-success"},"恭喜你!!登入成功!!!",-1),c={class:"fs-3"},l=(0,s.Uk)("頁面 A"),u={class:"fs-3"},a=(0,s.Uk)("頁面 B"),r={class:"fs-3"},h={key:1,class:"text-danger"},d=(0,s._)("h3",null,"登入失敗",-1),g=(0,s.Uk)("點擊此處重新登入");function k(e,t,o,k,m,p){const _=(0,s.up)("router-link"),f=(0,s.up)("router-view"),v=(0,s.up)("IsLoading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",i,[m.loginSuccess?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[n,(0,s._)("ul",null,[(0,s._)("li",c,[(0,s.Wm)(_,{to:"/checkLogin/loginPage1"},{default:(0,s.w5)((()=>[l])),_:1})]),(0,s._)("li",u,[(0,s.Wm)(_,{to:"/checkLogin/loginPage2"},{default:(0,s.w5)((()=>[a])),_:1})]),(0,s._)("li",r,[(0,s._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>p.deleteCookie&&p.deleteCookie(...e))},"刪除 cookie")])]),(0,s.Wm)(f)],64)):((0,s.wg)(),(0,s.iD)("div",h,[d,(0,s.Wm)(_,{to:"/"},{default:(0,s.w5)((()=>[g])),_:1})]))]),(0,s.Wm)(v,{active:e.isLoading,"onUpdate:active":t[1]||(t[1]=t=>e.isLoading=t)},null,8,["active"])],64)}var m=o(65),p={components:{},data(){return{loginSuccess:!1}},computed:{...(0,m.rn)(["isLoading"])},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(e){this.$store.commit("OPEN_LOADING"),this.$http.defaults.headers.common.Authorization=e;const t="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(t).then((e=>{console.log(e),this.loginSuccess=!0,this.$store.commit("CLOSE_LOADING")})).catch((e=>{console.log(e),this.$store.commit("CLOSE_LOADING")}))}},deleteCookie(){function e(e,t,o){const s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3);const i="expires="+s.toUTCString();document.cookie=e+"="+t+"; "+i}e("loginToken","",-1)}},mounted(){this.checkLogin()}},_=o(89);const f=(0,_.Z)(p,[["render",k]]);var v=f}}]);
//# sourceMappingURL=207.ab25ee6a.js.map